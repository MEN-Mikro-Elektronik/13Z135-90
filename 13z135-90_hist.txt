commit 8dee0c127482ff418d6c9de668ea21bedb884f79
Author: Andreas Werner <andreas.werner@men.de>
Date:   Fri Mar 4 12:43:00 2016 +0100

    reset CLOCAL if CTSRTS is set
    
    This is part of 74006c3111e53ac655a4f374d27f123e375aa9e7
    releated to some HW changes where the driver needs to be
    apdated to.
    
    Signed-off-by: Andreas Werner <andreas.werner@men.de>

commit ddd6fea35601dc0a279492386c5d17351fb6ed55
Author: Andreas Werner <andreas.werner@men.de>
Date:   Fri Mar 4 11:03:02 2016 +0100

    fix chameleon id for this driver.
    
    Chameleon ID for the z135 is 0x87 instead of 0xbd.
    Changed this value in the mod_core_arr
    
    Signed-off-by: Andreas Werner <andreas.werner@men.de>

commit 95bccd4f77418af157c23c705b380fb833000c9f
Author: Andreas Werner <andreas.werner@men.de>
Date:   Fri Mar 4 10:35:30 2016 +0100

    delete uart struct in set_ctrl because it is not used
    
    The struct men_z135_port struct in men_z135_set_mctrl
    is not used anymore, we can safely delete it.
    
    Signed-off-by: Andreas Werner <andreas.werner@men.de>

commit abe30df0b1b3a6ce95fad0c714e835065ef01de3
Author: Andreas Werner <andreas.werner@men.de>
Date:   Fri Mar 4 10:30:36 2016 +0100

    Don't initialize port->lock
    
    port->lock get's initialized in uart_add_one_port(), no need to do it
    in men_z135_probe().
    
    Signed-off-by: Andreas Werner <andreas.werner@men.de>

commit 06cf9267210f55e5c4edc10a210c387436c48f30
Author: Andreas Werner <andreas.werner@men.de>
Date:   Fri Mar 4 10:29:13 2016 +0100

    fix race betwee IRQ and set_termios()
    
    Fix panic caused by a race between men_z135_intr() and men_z135_set_termios().
    
    men_z135_intr() and men_z135_set_termios() both hold the struct uart_port::lock
    spinlock, but men_z135_intr() does a spin_lock_irqsave() and
    men_z135_set_termios() does a normal spin_lock(), which can lead to a deadlock
    when an interrupt is called while the lock is being helt by
    men_z135_set_termios().
    
    This was discovered using a insmod, hardware looppback send/receive, rmmod
    stress test
    
    Signed-off-by: Andreas Werner <andreas.werner@men.de>

commit 97fa4e93ef72fb14dedad54f9599cc7b215d69a3
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Feb 16 07:47:12 2015 +0100

    R: Inverted logic for TX enabling M: Corrected TX enabling logic
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 63183f9463acb0ed7355ccc3bb2320da3667ac8e
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Feb 16 07:28:36 2015 +0100

    R1: Compiler error because of missing ';' R2: TX IRQ not enabled when more data is available M1: Added missing ';' M2: Enable TX IRQ when more data is available
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 74006c3111e53ac655a4f374d27f123e375aa9e7
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Dec 1 10:09:25 2014 +0100

    men_z135: Merge 2.6.18 branch
    
    Merge 2.6.18 branch into master
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 78af3fde32ced36a1af7fe068f3d1545af6c00ed
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Apr 7 13:05:43 2014 +0200

    16z135: Add memory barriers
    
    Add memory barriers between memcpy_{from,to}io blocks and read/write
    acknowledgement calls.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit bef60d9cc2315d07e8396383f5fbb253ce36db47
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Apr 7 10:39:55 2014 +0200

    16z135: Minor cleanup
    
    Minor cleanup of unused struct uart_port members.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 0b0530980375a0f25c82264029e2cb85891f269f
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Wed Apr 2 12:47:55 2014 +0200

    16z135: Handle modem status deltas
    
    Add handling of modem status register's delta bits.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit ffdcf4add51b21c5baeff87d4476aa728bcafc81
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Wed Apr 2 07:06:50 2014 +0200

    16z135: Rework modem status setting
    
    Rework of modem status setting.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit f9351f922a4f40b69f8678b3dd0af41e34dbe4d9
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Wed Apr 2 15:25:30 2014 +0200

    16z135: Request room in tty flip buffer before copying
    
    Request room in tty flip buffer before copying data. Also only copy as much
    data as room is available in flip buffer.
    
    As a minor 2nd change, we account RX and TX bytes.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit d332a507209ff0ec4faf04fb5a3bbf4332c633d1
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Wed Apr 2 07:52:07 2014 +0200

    16z135: Allow adjustment of RX and TX levels by user
    
    Add module parameters rxlvl and txlvl to allow user to adjust the IRQ triggering
    levels.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 5d9543c58b15d0bc68102770ce9348bdf366e76b
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Apr 1 12:49:35 2014 +0200

    16z135: Set IRQ trigger levels
    
    Optimize setting of IRQ trigger levels.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit f6249de5c307c05a9ddc4884ef0a42f977a3e6f3
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Apr 1 12:48:27 2014 +0200

    16z135: Correct ring buffer handling
    
    Correct ring buffer handling, so we don't write memory dirt into
    FPGA or copy -1 byte.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit b14e7c3deb208b04605e1cf7a998af1fba9574bb
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Apr 1 12:45:33 2014 +0200

    16z135: Alloc complete page for RX buffer
    
    Allocate a complete page for the UART RX buffer. This plays nicer to the
    system.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 2ea8a16846bc5a7bbb69cb79350aa0efdb833661
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Apr 1 08:51:27 2014 +0200

    16z135: Remove flush_buffer()
    
    Remove flush_buffer() function as it is not mandatory for uart_core and a nop
    in our driver.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit d44af6d91bbfbe97913452810b95855d94aad4b8
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 31 16:19:54 2014 +0200

    16z135: Correct MSI requesting
    
    Correct requesting of MSI block and add an additional error message to tell
    how much MSI vectors are being made available by HW.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit b2c5910e52bd98defcb2a23898909d7124f31810
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 31 16:18:33 2014 +0200

    16z135: Improve FIFO pointer alignment
    
    Improve FIFO pointer alignment and checking, so HW cannot hang.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 14c6bb0c77e366e345927d8b9c4c8a727d30c366
Merge: 838834f 0727afd
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 31 09:48:42 2014 +0200

    Merge branch 'driver-object-refactor'

commit 0727afd72d24a3732ddac0213c8e8a9f5574453d
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 31 09:47:19 2014 +0200

    16z135: Multi port rework part 2
    
    2nd part of rework for driver to support multiple ports
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 38636086b2761f4dfdbc25c1eeef38d2a2186ee1
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 31 07:52:25 2014 +0200

    16z135: Multi port rework part 1
    
    1st rework for driver to support multiple ports
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 838834f2ab2e1c6af00af966e34681c79ce36f50
Merge: 2931608 c38c5c2
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Fri Mar 28 15:02:02 2014 +0100

    Merge branch 'bringup'

commit c38c5c2702556ab23c2d7cb6a6a9168c6ae97c62
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Fri Mar 28 15:01:21 2014 +0100

    16z135: Bringup done
    
    FPGA/driver bringup done. RX and TX working.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit ff774ddb250fdb774c2bc7534956d056a9e87681
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Fri Mar 28 07:43:32 2014 +0100

    16z135: more on the bringup side
    
    more on the bringup side
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 29316085f8be05919099baad659af9c93d1e933b
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Thu Mar 27 09:55:58 2014 +0100

    16z135: Set Termios
    
    First shot to set termios
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 523527c57844f8045b1242697058dd655f8d4f8d
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Thu Mar 27 09:19:50 2014 +0100

    16z135: Rework IRQ deactivation
    
    Rework IRQ deactivation, still needs corresponding HW fixes as well.
    Basically what we did is deactivating TX and RX IRQs as early as possible and
    sacrifice men_z135_activate_rx_irq() and men_z125_deactivate_rx_irq().
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 89a64f5902c34d5c6f99b128bef5101220913c79
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Thu Mar 27 07:02:57 2014 +0100

    16z135: Little beautification
    
    Just a little beautification:
     * Rename men_z135_register_set() -> men_z135_reg_set()
     * Rename men_z135_register_clear() -> men_z135_reg_clr()
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit a5b5111eff64a7a17333f977776a790f9c1c2335
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Wed Mar 26 16:23:15 2014 +0100

    16z135: More testing on Hardware
    
    More testing on actual Hardware. We can send characters but TX IRQ handling is
    still not working. RX path more or less untested.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit b93a6975d380c1b9b4e20ad4a21d5718c9d7a6ea
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Mar 25 16:40:43 2014 +0100

    16z135: First tests on HW
    
    Did first tests on actual Hardware.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 0bea3375830718db7bab4fae43c20eacbc6e9f83
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Mar 25 13:30:57 2014 +0100

    16z125: Add module information
    
    Add module information to make modpost happy
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit d62f5713134ce3054838883591e61c7b001ef02f
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Mar 25 13:12:06 2014 +0100

    .gitignore: ignore patches
    
    Ignore .patch files from git
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 11488b7b93ddb1d5916c303dc67fc84f549262fe
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Mar 25 13:10:29 2014 +0100

    Makefile: Enable MEN build system
    
    Enable MEN and kernel build system coexistance
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit d7e50d71d87b4dc6a7d3538f4b7ab9dabfc37465
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Tue Mar 25 11:43:25 2014 +0100

    16z135: 1st compile test
    
    Just an intermediate checkin after the 1st compile test.
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 3518c504caaf6d292059cd4724e8f1aae13e1f7b
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 24 09:26:35 2014 +0100

    tests: Added test directory
    
    Added directory to hold the test suite for the 16z135 driver.
    An additional .dir-locals.el file is in place to 1) allow creation
    of the directory in GIT and 2) have a consistent kernel like indent
    style in place (in case the one true editor is used).
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>

commit 914687a69f5fa85b6f40e2385d414a346e9aa027
Author: Johannes Thumshirn <johannes.thumshirn@men.de>
Date:   Mon Mar 24 08:27:42 2014 +0100

    16z135: Initial Import
    
    Signed-off-by: Johannes Thumshirn <johannes.thumshirn@men.de>
